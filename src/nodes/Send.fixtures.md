<!-- BEGIN_AUTOGENERATED -->

# Send Node Formatting

Represents a method call (e.g. `foo.bar(42)`)

<!-- END_AUTOGENERATED -->

## Formats

Before:

```ruby
foo( "an arg")
```

After:

```ruby
foo("an arg")
```

## Formats detached method names (<<)

Before:

```ruby
foo <<
  "one"
```

After:

```ruby
foo << "one"
```

## Formats detached method names (=~)

Before:

```ruby
/[a]/ =~ [bcd]
```

After:

```ruby
/[a]/ =~ [bcd]
```

## Formats detached method names (=)

Before:

```ruby
foo.bar= 1
```

After:

```ruby
foo.bar = 1
```

## Formats detached method names (>=)

Before:

```ruby
foo.bar >= 1
```

After:

```ruby
foo.bar >= 1
```

## Formats with an operator assignment (|=)

Before:

```ruby
foo.bar |= 1
```

After:

```ruby
foo.bar |= 1
```

## Formats with an operator assignment (|=)

Before:

```ruby
foo.bar ^= 1
```

After:

```ruby
foo.bar ^= 1
```

## Formats a chain

Before:

```ruby
key_component.gsub(/[[:space:]]+/, " ").gsub(/[^[:alnum:][:space:]]/, "").titleize
```

After:

```ruby
key_component
  .gsub(/[[:space:]]+/, " ")
  .gsub(/[^[:alnum:][:space:]]/, "")
  .titleize
```

## Formats a chained assignment

Before:

```ruby
self.telemetry.tracked_data = { things_to_count_and_summarize: (metrics || []).length }
```

After:

```ruby
self.telemetry.tracked_data = {
  things_to_count_and_summarize: (metrics || []).length
}
```

## Formats a chained assignment

Before:

```ruby
self.telemetry.tracked_data = 2
```

After:

```ruby
self.telemetry.tracked_data = 2
```

## Formats when a line breaks and the method is `==`

Before:

```ruby
def product_for_preview_image_type(preview_image_type)
  products.detect do |campaign_product|
    campaign_product.default_ad_preview_image_type.to_s == preview_image_type.to_s
  end
end
```

After:

```ruby
def product_for_preview_image_type(preview_image_type)
  products.detect do |campaign_product|
    campaign_product.default_ad_preview_image_type.to_s == preview_image_type
      .to_s
  end
end
```

## Formats correctly with a negation

Before:

```ruby
!self.programmatically_created? || self.author.user.require_publisher_approval_on_all_posts
```

After:

```ruby
!self.programmatically_created? ||
  self.author.user.require_publisher_approval_on_all_posts
```

## Formats correctly with a negation

Before:

```ruby
return false if field_name.blank? || (!validate_draft_fields.is_a?(Hash) && !validate_draft_fields.is_a?(Array))
```

After:

```ruby
if field_name.blank? ||
  (!validate_draft_fields.is_a?(Hash) && !validate_draft_fields.is_a?(Array))
then
  return false
end
```

## Formats when a chain breaks a line and part of the chain is the `==` method

Before:

```ruby
using_default_text =
  ::Hashtronaut.simple_fetch(
    self.ad_config.try(:with_indifferent_access) || {},
    "#{component_code}.text"
  ).to_s == default_text
```

After:

```ruby
using_default_text = ::Hashtronaut
  .simple_fetch(
    self.ad_config.try(:with_indifferent_access) || {},
    "#{component_code}.text"
  )
  .to_s == default_text
```

## Fits blocks in a chain onto the line when the chain breaks

Before:

```ruby
product_specs_of(categories: categories).map { |clazz, _specs| clazz.try(:name) || clazz.try(:to_s) }
  .compact { |b| b + 1 }
```

After:

```ruby
product_specs_of(categories: categories)
  .map { |clazz, _specs| clazz.try(:name) || clazz.try(:to_s) }
  .compact { |b| b + 1 }
```

## Fits blocks in a chain onto the line when the chain breaks

Before:

```ruby
scope :purchased_or_recently_completed, -> do
  where(status: self.all_statuses(:purchased)).where("#{Trip.table_name}.completed_at > ? OR #{
        Trip.table_name
      }.completed_at IS NULL", 2.weeks.ago.to_date )
    .where("#{Trip.table_name}.canceled_at > ? OR #{Trip.table_name}.canceled_at IS NULL", 2.weeks.ago.to_date)
end
```

After:

```ruby
scope :purchased_or_recently_completed, -> do
  where(status: self.all_statuses(:purchased))
    .where(
      "#{Trip.table_name}.completed_at > ? OR #{
        Trip.table_name
      }.completed_at IS NULL",
      2.weeks.ago.to_date
    )
    .where(
      "#{Trip.table_name}.canceled_at > ? OR #{
        Trip.table_name
      }.canceled_at IS NULL",
      2.weeks.ago.to_date
    )
end
```

## Breaks a block when the sends don't chain well

Before:

```ruby
begin
  def self.categories
    self.types.map { |class_name| class_name.constantize.category } << :auto_listings_why_does_this
    self.very_long_method_name.map { |class_name| class_name.constantize.category } << :a
    self.types.map { |class_name| class_name.constantize.category }.some_other_long_method 'arg'
  end
end
```

After:

```ruby
begin
  def self.categories
    self.types.map do |class_name|
      class_name.constantize.category
    end << :auto_listings_why_does_this
    self
      .very_long_method_name
      .map { |class_name| class_name.constantize.category } << :a
    self
      .types
      .map { |class_name| class_name.constantize.category }
      .some_other_long_method "arg"
  end
end
```

## Formats with an implicit call

Before:

```ruby
foo.(52)
```

After:

```ruby
foo.(52)
```

## Formats with `~` operator (bitwise complement)

Before:

```ruby
~2
```

After:

```ruby
~2
```

## Formats with `+` operator (unary plus)

Before:

```ruby
+"foo"
```

After:

```ruby
+"foo"
```

## Formats with `**` operator (exponentiation)

Before:

```ruby
2**8
```

After:

```ruby
2**8
```

## Formats with `-` operator (unary minus)

Before:

```ruby
-"foo"
```

After:

```ruby
-"foo"
```

## Formats with `*` operator (multiplication)

Before:

```ruby
1*2
```

After:

```ruby
1 * 2
```

## Formats with `/` operator (division)

Before:

```ruby
1/0
```

After:

```ruby
1 / 0
```

## Formats with `%` operator (modulo)

Before:

```ruby
9 % 3
```

After:

```ruby
9 % 3
```

## Formats with `+` operator (addition / concatentation)

Before:

```ruby
4+ 3
```

After:

```ruby
4 + 3
```

## Formats with `<<` operator (bitshift left)

Before:

```ruby
0 << 1
```

After:

```ruby
0 << 1
```

## Formats with `>>` operator (bitshift right)

Before:

```ruby
1 >> 0
```

After:

```ruby
1 >> 0
```

## Formats with `&` operator (bitwise AND)

Before:

```ruby
2&10
```

After:

```ruby
2 & 10
```

## Formats with `|` operator (bitwise OR)

Before:

```ruby
1|9
```

After:

```ruby
1 | 9
```

## Formats with `^` operator (bitwise XOR)

Before:

```ruby
1 ^ 2
```

After:

```ruby
1 ^ 2
```

## Formats with `<` operator (lt)

Before:

```ruby
1 <2
```

After:

```ruby
1 < 2
```

## Formats with `<=` operator (lte)

Before:

```ruby
1 <= 5
```

After:

```ruby
1 <= 5
```

## Formats with `>=` operator (gte)

Before:

```ruby
4  >= 10
```

After:

```ruby
4 >= 10
```

## Formats with `>` operator (gt)

Before:

```ruby
 10 > 0
```

After:

```ruby
10 > 0
```

## Formats with `==` operator (equality)

Before:

```ruby
foo == foo
```

After:

```ruby
foo == foo
```

## Formats with `===` operator (pattern match)

Before:

```ruby
foo === foo
```

After:

```ruby
foo === foo
```

## Formats with `!=` operator (ne)

Before:

```ruby
1 != 4
```

After:

```ruby
1 != 4
```

## Formats with `=~` operator (regex)

Before:

```ruby
"foo bar" =~ /bar/
```

After:

```ruby
"foo bar" =~ /bar/
```

## Formats with `!~` operator

Before:

```ruby

```

After:

```ruby

```

## Formats with `<=>` operator (sort)

Before:

```ruby
1 <=> 5
```

After:

```ruby
1 <=> 5
```
